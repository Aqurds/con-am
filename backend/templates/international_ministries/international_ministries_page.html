{% extends "base.html" %}
{% load i18n staticfiles home_template_tags mission_template_tags story_template_tags international_ministries_template_tags wagtailcore_tags wagtailadmin_tags wagtailimages_tags %}


{% block content %}
    {% image page.header_background_image width-1200 as header_background_image %}
    {% image page.header_image width-400 as header_image %}
    {% image page.header_map_image width-400 as header_map_image %}
    <header
      class="w-full md:h-[972px] py-[100px] md:py-0 px-4 lg:pl-[82px] xl:pl-[60px] bg-[url({{ header_background_image.url }})] bg-no-repeat bg-cover bg-center flex items-start justify-center flex-col relative after:absolute after:left-0 after:h-full after:w-full  md:after:opacity-100 after:w-[210px] sm:after:w-[300px] xl:after:w-[411px] after:bg-[#7FA7B6] after:z-10">
    >
      <div
        class="w-full flex items-center justify-start mb-[20px] md:mb-[60px] flex-col md:flex-row z-50"
      >
        <div 
          class="md:mr-[30px] lg:mr-[60px] w-full md:w-[400px] md:h-[400px]  lg:w-[573px] lg:h-[443px]"
          data-aos="fade-up"
          data-aos-duration="1500"
        >
          <img
            src={{ header_image.url }}
            alt="{{ page.header_image_alt_text }}"
            class="h-full w-full object-cover rounded-2xl"
          />
        </div>

        <div 
          class="w-full md:w-[400px] xl:w-[500px] mt-6 md:mt-0"
          data-aos="fade-up"
          data-aos-duration="2000"
        >
          <h1
            class="text-[28px] lg:text-[48px] xl:text-[64px] text-white font-normal font-gt-super"
          >
            {{ page.title }}
          </h1>
          <p class="text-[16px] sm:text-[18px] lg:text-[32px] text-white font-thin font-twk-lausanne">
            {{ page.header_sub_title }}
          </p>
          <a href="{{ page.header_join_the_team_button_url }}" target="_blank">
            <button
              class="w-[204px] h-[56px] bg-white border-2 solid border-white text-lg text-[#754930] font-medium font-twk-lausanne uppercase rounded-full mt-6 md:mt-8"
            >
              {{ page.header_join_the_team_button_text }}
            </button>
          </a>
        </div>
      </div>
      <div class="w-full flex items-start md:items-center flex-col md:flex-row z-50">
        <!-- hidden md:block -->
        <div 
          class="w-[200px] sm:w-[315px] h-[160px] rounded-2xl my-4 sm:my-0"
          data-aos="fade-up"
          data-aos-easing="linear"
          data-aos-duration="1500"
        >
          <img
            src={{ header_map_image.url }}
            alt="{{ page.header_map_image_alt_text }}"
            class="w-full h-full"
          />
        </div>

        <div 
          class="w-full md:w-auto lg:w-[589px] lg:ml-[40px]"
          data-aos="fade-up"
          data-aos-duration="2000"
          data-aos-delay="50"
        >
          <p class="text-lg sm:text-2xl font-normal text-white mb-1 font-thin font-twk-lausanne">
            {{ page.header_bottom_text }}
          </p>
        </div>
      </div>
    </header>

    <main class="w-full pt-6 lg:pt-[90px]">
      <section 
        class="px-4 sm:px-[100px] xl:px-[278px] mb-[60px] lg:mb-[110px]"
        data-aos="fade-up"
        data-aos-duration="2000"
      >
        <h3
          class="text-[28px] sm:text-[48px] xl:text-[64px] lg:leading-[70px] text-center text-black font-normal font-gt-super"
        >
          {{ page.description_header }}
        </h3>

        <div
          class="text-base sm:text-lg lg:text-2xl font-thin text-[#3D3D3D] mt-[30px] mb-[50px] font-twk-lausanne"
        >
          {{ page.description|richtext }}
        </div>
      </section>
      <!-- GO Stories  -->
      {% stories_slides_header as story_slide_header %}
      {% get_current_language as LANGUAGE_CODE %}
      <section
        class="stories__wrapper overflow-hidden mt-7 lg:mt-[76px] ml-4 xl:ml-[100px]"
      >
        <div
          class="flex items-center justify-between mb-6 lg:mb-11 pr-4 lg:pr-[60px]"
        >
          <div>
            <h2
              class="text-[36px] lg:text-[64px] font-gt-super font-light text-black"
            >
            {% if LANGUAGE_CODE == 'en' %}{{ story_slide_header.slider_header_text }}{% else %}{{ story_slide_header.slider_header_text_es }}{% endif %}
          </h2>
            <p
              class="text-base lg:text-[36px] font-twk-lausanne font-extralight text-black"
            >
            {% if LANGUAGE_CODE == 'en' %}{{ story_slide_header.slider_subheader_text }}{% else %}{{ story_slide_header.slider_subheader_text_es }}{% endif %}
            </p>
          </div>
          <a href="{{ story_page.url }}">
            <button
              class="w-[110px] sm:w-[175px] h-[40px] sm:h-[56px] text-sm sm:text-lg font-twk-lausanne font-normal uppercase text-[#8A4D32] border-2 solid border-[#8A4D32] hover:bg-[#8A4D32] hover:text-white rounded-full transition duration-500 ease-in-out">
              {% if LANGUAGE_CODE == 'en' %}{{ story_slide_header.header_button_text }}{% else %}{{ story_slide_header.header_button_text_es }}{% endif %}
            </button>
          </a>
        </div>
        <!-- Stories,, Real people's - real lives -->
        <div 
          class="w-full h-[550px] md:h-[630px]"
          data-aos="fade-up"
          data-aos-easing="linear"
          data-aos-duration="2000"
        >
        <div
        class="stories_swiper pl-0 relative swiper-scrollbar-home home_stories"  
        >
          <div class="swiper-wrapper greg__munids">
            {% get_stories %}
          </div>
          <div class="swiper-button-prev"></div>
          <div class="swiper-button-next" id="arrow-right"></div>
          <div class="swiper-scrollbar"></div>
        </div>
      </div>
      </section>

      <section
        class="lg:pl-[60px] 2xl:pl-[97px] mb-[30px] md:mb-[80px] mt-7 lg:mt-16 px-6 lg:px-14"
      >
        <h2
          class="text-[32px] sm:text-[48px] xl:text-[64px] lg:leading-[70px] md:text-center text-black font-gt-super font-normal mb-[22px]"
          data-aos="fade-up"
          data-aos-duration="3000"
        >
          {{ page.areas_of_ministries_header }}
        </h2>

        <div
          class="grid grid-cols-1 md:grid-cols-2 gap-6 xl:gap-[65px] xl:mt-[98px]"
        >
          {% for individual_ministry in page.specific.children %}
          <div data-aos="fade-up" data-aos-duration="3000">
            <h5
              class="text-[18] sm:text-[24px] lg:text-[32px] text-[#3D3D3D] font-normal font-twk-lausanne"
            >
              {{ individual_ministry.title }}
            </h5>
            <div class="text-lg sm:text-xl lg:text-2xl text-[#3D3D3D] font-twk-lausanne font-thin mt-[20px] lg:leading-[40px]">
              {{ individual_ministry.first_section_content|striptags|slice:":295" }}...
            </div>
            <a
              href="{{ individual_ministry.url }}"
              target="_blank"
              class="text-lg font-semibold text-[#8B3C3B] inline-block mt-[33px] font-twk-lausanne font-semibold uppercase"
              >{{ page.individual_ministries_readmore_button_text }}</a
            >
          </div>
          {% endfor %}
        </div>
      </section>
      <section
        class="flex items-center justify-center flex-col lg:px-[60px] 2xl:px-[97px] mx-auto mb-8 md:mb-[60px] lg:mb-[145px]"
        data-aos="fade-up"
        data-aos-duration="3000"
      >
        {% image page.giving_initiative_background_image width-400 as background_image %}
        <div
          class="w-full h-auto sm:h-[500px] lg:h-[600px] bg-[url({{background_image.url}})] bg-center bg-cover lg:rounded-2xl flex justify-center flex-col py-8 sm:py-0 pl-4 lg:pl-[120px] pr-4"
        >
          <h3
            class="text-[36px] xl:text-[64px] text-white font-normal font-gt-super mb-2 lg:mb-[20px]"
          >
            {{ page.giving_initiative_title }}
          </h3>
          <p 
            class="text-white text-lg sm:text-xl lg:text-3xl font-thin font-twk-lausanne"
          >
            {{ page.giving_initiative_body }}
          </p>
          <a href="{{ give_page.url }}" target="_blank">
            <button
              class="text-base md:text-lg text-black font-twk-lausanne font-semibold w-auto sm:w-[268px] h-[56px] px-6 rounded-full bg-white mt-[30px] sm:mt-[122px] uppercase"
            >
              {{ page.start_your_gift_today_button_text }}
            </button>
          </a>
        </div>
      </section>

      <section
        class="flex flex-col md:flex-row justify-between px-4 lg:px-[60px] 2xl:px-[97px] mx-auto mb-[60px] lg:mb-[115px]"
      >
        <div
          class="bg-white border solid border-[rgba(127, 167, 182, 0.22)] rounded-2xl pl-[30px] lg:pl-[50px] h-[122px] flex flex-col items-start justify-center w-full lg:w-[400px] 2xl:w-[452px] sm:mr-6 xl:mr-0"
          data-aos="fade-up"
          data-aos-duration="3000"
        >
          <span class="text-lg md:text-3xl font-thin text-black font-twk-lausanne">
            {{ page.director_text }}
          </span>
          <p class="text-lg md:text-3xl font-medium text-black font-twk-lausanne">
            {{ page.director_name }}
          </p>
        </div>
        {% image page.director_image width-800 as director_image %}
        <div
          class="w-full h-[425px] sm:h-[687px] lg:w-[749px] rounded-2xl bg-[url({{ director_image.url }})] bg-no-repeat bg-center bg-cover flex items-end justify-start pb-[55px] bg-blue-300 mt-6 lg:mt-0"
        >
          <div class="w-full md:w-auto flex flex-col px-4 sm:pl-6 xl:pl-[74px]">
            <div data-aos="fade-up" data-aos-duration="3000">
              <p class="text-lg lg:text-3xl text-white font-light font-twk-lausanne underline">
                {{ page.related_ministries_links_text }}
              </p>
              <p class="text-lg lg:text-3xl text-white font-light font-twk-lausanne">
                {{ page.director_phone_text }}: {{ page.director_phone_number }}
              </p>
            </div>
            <div
              class="flex items-start sm:items-center flex-col sm:flex-row mt-[30px] lg:mt-[50px]"
            >
              <button
                class="w-full sm:w-[343px] h-[56px] bg-white text-[13px] font-semibold sm:text-base md:text-lg text-black sm:font-normal uppercase rounded-full mr-4 lg:mr-[42px] mb-4 sm:mb-0 font-twk-lausanne"
                data-aos="fade-up"
                data-aos-duration="1500"
                data-aos-delay="50"
              >
                <a href="{{page.director_website_link}}" target="_blank">
                  {{ page.title|directors_website }}
                </a>
              </button>
              <a
                href="{{page.director_facebook_link}}"
                target="_blank"
                class="mr-5 hover:scale-105 transition duration-500 ease-in-out"
                data-aos="fade-up"
                data-aos-duration="1500"
                data-aos-delay="100"
              >
                <svg
                  class="w-[56px] h-[56px]"
                  viewBox="0 0 56 56"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <rect width="56" height="56" rx="6" fill="white" />
                  <path
                    d="M35.4992 13.0062L31.6089 13C27.2383 13 24.4138 15.8978 24.4138 20.383V23.7871H20.5023C20.1643 23.7871 19.8906 24.0611 19.8906 24.3991V29.3313C19.8906 29.6693 20.1646 29.943 20.5023 29.943H24.4138V42.3883C24.4138 42.7263 24.6876 43 25.0256 43H30.129C30.467 43 30.7407 42.726 30.7407 42.3883V29.943H35.3141C35.6521 29.943 35.9259 29.6693 35.9259 29.3313L35.9277 24.3991C35.9277 24.2369 35.8631 24.0814 35.7486 23.9666C35.634 23.8517 35.478 23.7871 35.3157 23.7871H30.7407V20.9014C30.7407 19.5145 31.0712 18.8104 32.8779 18.8104L35.4986 18.8094C35.8363 18.8094 36.11 18.5354 36.11 18.1977V13.618C36.11 13.2806 35.8366 13.0069 35.4992 13.0062Z"
                    fill="black"
                  />
                </svg>
              </a>
            </div>
          </div>
        </div>
      </section>
      {% get_missions %}
    </main>
    {% endblock %}
    {% block javascript %}
    <!-- //  JS CODE -->
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <script type="text/javascript">
      AOS.init();

      let storiesSwiper = new Swiper(".stories_swiper", {
        scrollbar: {
          el: ".swiper-scrollbar",
          draggable: true,
        },
        draggable: true,
        allowTouchMove: true,
        loop: true,
        //centeredSlides: true,
        //direction: 'horizontal',
        initialSlide: 0,
  
        direction: "horizontal",
        //centeredSlides: false,
        speed: 800,
        //slidesPerView: "auto",
        threshold: 5,
  
  
        //freeMode: true,
        //watchSlidesProgress: true,
        breakpoints: {
          100: {
            slidesPerView: 1.2,
            spaceBetween: 16,
          },
  
          450: {
            slidesPerView: 1.4,
            spaceBetween: 20,
          },
          692: {
            slidesPerView: 'auto',
            spaceBetween: 30,
          }
        },
        navigation: {
          nextEl: ".swiper-button-next",
          prevEl: ".swiper-button-prev",
        },
  
      });

      let RegionsSwiper = new Swiper(".region_explore", {
        scrollbar: {
          el: ".swiper-scrollbar",
          draggable: true,
  
          // hide: true,
        },
        // slidesPerView: 3,
        initialSlide: 0,
  
        allowTouchMove: true,
        draggable: true,
        direction: "horizontal",
        speed: 800,
        threshold: 5,
        loop: true,
  
        breakpoints: {
          // when window width is >= 320px
          300: {
            slidesPerView: 1.1,
            spaceBetween: 10,
          },
          // when window width is >= 480px
  
          // when window width is >= 640px
          640: {
            slidesPerView: 2,
            spaceBetween: 20,
          },
          992: {
            slidesPerView: 2,
            spaceBetween: 30,
          },
          1192: {
            slidesPerView: 3,
            spaceBetween: 20,
          },
          1490: {
            slidesPerView: 3,
            spaceBetween: 40,
          },
        },
        navigation: {
          nextEl: ".swiper-button-next",
          prevEl: ".swiper-button-prev",
        },
  
        on: {
          init: function () {
  
            //const regionsCover = document.querySelectorAll(".regions__cover");
            //regionsCover.forEach((c) => c.classList.add("toggle__cover"));
  
  
  
            const readStories = document.querySelectorAll(".explore__continent");
            readStories.forEach((c) => c.classList.add("toglle_continent"));
  
            readStories.forEach((itemSlide, index) => {
              if (index === this.activeIndex) {
                itemSlide.classList.add("toglle_continent");
                //regionsCover.forEach((c) => c.classList.add("toggle__cover"));
  
              } else {
                itemSlide.classList.remove("toglle_continent");
                //regionsCover.forEach((c) => c.classList.remove("toggle__cover"));
  
              }
            });
  
            //toggle banners
            const exploreHeaders = document.querySelectorAll(".explore_banners");
            exploreHeaders.forEach((h) => h.classList.add("show_explore_banners"));
  
            exploreHeaders.forEach((itemSlide, index) => {
              if (index === this.activeIndex) {
                itemSlide.classList.add("show_explore_banners")
              } else {
                itemSlide.classList.remove("show_explore_banners")
              }
            })
          },
        },
      });
  
      RegionsSwiper.on("slideChange", function () {
        //const regionsCover = document.querySelectorAll(".regions__cover");
        //regionsCover.forEach((c) => c.classList.add("toggle__cover"));
        const readStories = document.querySelectorAll(".explore__continent");
  
  
  
        readStories.forEach((c) => c.classList.add("toglle_continent"));
        readStories.forEach((itemSlide, index) => {
          if (index === this.activeIndex) {
            itemSlide.classList.add("toglle_continent");
            //regionsCover.forEach((c) => c.classList.add("toggle__cover"));
  
          } else {
            itemSlide.classList.remove("toglle_continent");
            //regionsCover.forEach((c) => c.classList.remove("toggle__cover"));
  
          }
        });
      });
  
      RegionsSwiper.on("slideChange", function () {
        const exploreHeaders = document.querySelectorAll(".explore_banners");
        exploreHeaders.forEach((c) => c.classList.add("show_explore_banners"));
        exploreHeaders.forEach((itemSlide, index) => {
          if (index === this.activeIndex) {
            itemSlide.classList.add("show_explore_banners");
            //regionsCover.forEach((c) => c.classList.add("toggle__cover"));
  
          } else {
            itemSlide.classList.remove("show_explore_banners");
          }
        });
      });
    </script>
    {% endblock %}
</html>